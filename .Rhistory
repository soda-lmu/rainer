}
})
}
Environment_Objects()
environment_info = list(
Environment_Objects = function(){
sapply(ls(envir = .GlobalEnv), function(name) {
obj = get(name, envir = .GlobalEnv)
if (is.function(obj)) {
"function"
} else if (is.data.frame(obj)) {
"dataframe"
} else {
"variable"
}
})
},
head(Environment_Objects["dataframe"]),
getwd(),
packages = devtools::session_info(pkgs = c("attached")),
current_script = try(rstudioapi::getActiveDocumentContext()$contents),
errors = geterrmessage()
)
#Function: rainer::explain in order to explain the last error message occurred
explain = function() {
#Getting the session of the student
environment_info = list(
Environment_Objects = function(){
sapply(ls(envir = .GlobalEnv), function(name) {
obj = get(name, envir = .GlobalEnv)
if (is.function(obj)) {
"function"
} else if (is.data.frame(obj)) {
"dataframe"
} else {
"variable"
}
})
},
header = sapply(Environment_Objects), function(name) {
if (Environment_Objects == "dataframe") {return(head(obj))
} else {return(NULL)}
},
getwd(),
packages = devtools::session_info(pkgs = c("attached")),
current_script = try(rstudioapi::getActiveDocumentContext()$contents),
errors = geterrmessage()
)
#Azure OpenAI Client
client = list(
azure_endpoint = "https://soda-oai-easyaccess-prod-swedencentral.openai.azure.com",
api_key = "39257ccf9f724bdc81add8c7ca1e155b",
deployment_name = "gpt-35-turbo",
api_version = "2024-08-01-preview"
)
#building the message
body = list(
messages = list(
list(role = "system", content = "You are helping students in an university level R programming course for beginners."),
list(role = "user", content = paste("You got the following information on the current state of my work in R: \n",
jsonlite::toJSON(environment_info, auto_unbox = TRUE),
"\n Identify the error and give me a concise feedback of how to correct the issue."))),
max_tokens = 200
)
#formatting the response
response_json = call_openai_api(client = client, body = body)
content_vector = response_json$choices$message.content
#printing the response
print(content_vector)
}
environment_info = list(
Environment_Objects = function(){
sapply(ls(envir = .GlobalEnv), function(name) {
obj = get(name, envir = .GlobalEnv)
if (is.function(obj)) {
"function"
} else if (is.data.frame(obj)) {
"dataframe"
} else {
"variable"
}
})
},
header = sapply(Environment_Objects), function(name) {
if (Environment_Objects == "dataframe") {return(head(obj))
} else {return(NULL)}
})
environment_info = list(
Environment_Objects = function(){
sapply(ls(envir = .GlobalEnv), function(name) {
obj = get(name, envir = .GlobalEnv)
if (is.function(obj)) {
"function"
} else if (is.data.frame(obj)) {
"dataframe"
} else {
"variable"
}
})
},
header = sapply(Environment_Objects), function(obj) {
if (Environment_Objects == "dataframe") {return(head(obj))
} else {return(NULL)}
})
environment_info = list(
Environment_Objects = function(){
sapply(ls(envir = .GlobalEnv), function(name) {
obj = get(name, envir = .GlobalEnv)
if (is.function(obj)) {
"function"
} else if (is.data.frame(obj)) {
"dataframe"
} else {
"variable"
}
})
},
header = function() {
obj_types = environment_info$Environment_Objects()
sapply(names(obj_types), function(name) {
if (obj_types[name] == "dataframe") {
return(head(get(name, envir = .GlobalEnv)))
} else {return(NULL)}
}, simplyfy = FALSE)
})
data = mtcars
var1 = 5
environment_info = list(
Environment_Objects = function(){
sapply(ls(envir = .GlobalEnv), function(name) {
obj = get(name, envir = .GlobalEnv)
if (is.function(obj)) {
"function"
} else if (is.data.frame(obj)) {
"dataframe"
} else {
"variable"
}
})
},
header = function() {
obj_types = environment_info$Environment_Objects()
sapply(names(obj_types), function(name) {
if (obj_types[name] == "dataframe") {
return(head(get(name, envir = .GlobalEnv)))
} else {return(NULL)}
}, simplyfy = FALSE)
})
environment_info
environment_info = list(
Environment_Objects = function(){
sapply(ls(envir = .GlobalEnv), function(name) {
obj = get(name, envir = .GlobalEnv)
if (is.function(obj)) {
"function"
} else if (is.data.frame(obj)) {
"dataframe"
} else {
"variable"
}
})
},
header = function() {
obj_types = environment_info$Environment_Objects()
sapply(names(obj_types), function(name) {
if (obj_types[name] == "dataframe") {
return(head(get(name, envir = .GlobalEnv)))
} else {return(NULL)}
}, simplyfy = FALSE)
},
getwd(),
packages = devtools::session_info(pkgs = c("attached")),
current_script = try(rstudioapi::getActiveDocumentContext()$contents),
errors = geterrmessage()
)
environment_info
environment_info = list(
Environment_Objects = function(){
sapply(ls(envir = .GlobalEnv), function(name) {
obj = get(name, envir = .GlobalEnv)
if (is.function(obj)) {
"function"
} else if (is.data.frame(obj)) {
"dataframe"
} else {
"variable"
}
})
},
header = function() {
obj_types = environment_info$Environment_Objects()
sapply(names(obj_types), function(name) {
if (obj_types[name] == "dataframe") {
return(head(get(name, envir = .GlobalEnv)))
} else {return(NULL)}
}, simplify = FALSE)
},
directory = getwd(),
packages = devtools::session_info(pkgs = c("attached")),
current_script = try(rstudioapi::getActiveDocumentContext()$contents),
errors = geterrmessage()
)
environment_info
print(environment_info)
sessionInfo()
environment_info = list(
Environment_Objects = function(){
sapply(ls(envir = .GlobalEnv), function(name) {
obj = get(name, envir = .GlobalEnv)
if (is.function(obj)) {
"function"
} else if (is.data.frame(obj)) {
"dataframe"
} else {
"variable"
}
})
},
header = function() {
obj_types = environment_info$Environment_Objects()
sapply(names(obj_types), function(name) {
if (obj_types[name] == "dataframe") {
return(head(get(name, envir = .GlobalEnv)))
} else {return(NULL)}
}, simplify = FALSE)
},
directory = getwd(),
packages = sessionInfo()$otherPkgs,
current_script = try(rstudioapi::getActiveDocumentContext()$contents),
errors = geterrmessage()
)
environment_info
environment_info = list(
Environment_Objects = list(
objects = function(){
sapply(ls(envir = .GlobalEnv), function(name) {
obj = get(name, envir = .GlobalEnv)
if (is.function(obj)) {
"function"
} else if (is.data.frame(obj)) {
"dataframe"
} else {
"variable"
}
})
},
header = function() {
obj_types = environment_info$Environment_Objects()
sapply(names(obj_types), function(name) {
if (obj_types[name] == "dataframe") {
return(head(get(name, envir = .GlobalEnv)))
} else {return(NULL)}
}, simplify = FALSE)
}),
directory = getwd(),
packages = sessionInfo()$otherPkgs,
current_script = try(rstudioapi::getActiveDocumentContext()$contents),
errors = geterrmessage()
)
environment_info
environment_info = list(
Environment_Objects = list(
env_objects = function(){
sapply(ls(envir = .GlobalEnv), function(name) {
obj = get(name, envir = .GlobalEnv)
if (is.function(obj)) {
"function"
} else if (is.data.frame(obj)) {
"dataframe"
} else {
"variable"
}
})
print(env_objects)
},
header = function() {
obj_types = environment_info$Environment_Objects()
sapply(names(obj_types), function(name) {
if (obj_types[name] == "dataframe") {
return(head(get(name, envir = .GlobalEnv)))
} else {return(NULL)}
}, simplify = FALSE)
print(header)
}),
directory = getwd(),
packages = sessionInfo()$otherPkgs,
current_script = try(rstudioapi::getActiveDocumentContext()$contents),
errors = geterrmessage()
)
environment_info
Environment_Objects = function(){
sapply(ls(envir = .GlobalEnv), function(name) {
obj = get(name, envir = .GlobalEnv)
if (is.function(obj)) {
"function"
} else if (is.data.frame(obj)) {
"dataframe"
} else {
"variable"
}
})
print(env_objects)
}
Environment_Objects()
Environment_Objects = function(){
sapply(ls(envir = .GlobalEnv), function(name) {
obj = get(name, envir = .GlobalEnv)
if (is.function(obj)) {
"function"
} else if (is.data.frame(obj)) {
"dataframe"
} else {
"variable"
}
})
}
Environment_Objects()
header = function() {
obj_types = environment_info$Environment_Objects()
sapply(names(obj_types), function(name) {
if (obj_types[name] == "dataframe") {
return(head(get(name, envir = .GlobalEnv)))
} else {return(NULL)}
}, simplify = FALSE)
print(header)
}
header()
header()
header = function() {
obj_types = Environment_Objects()
sapply(names(obj_types), function(name) {
if (obj_types[name] == "dataframe") {
return(head(get(name, envir = .GlobalEnv)))
} else {return(NULL)}
}, simplify = FALSE)
print(header)
}
header()
header = list(
head_of_data = function() {
obj_types = Environment_Objects()
sapply(names(obj_types), function(name) {
if (obj_types[name] == "dataframe") {
return(head(get(name, envir = .GlobalEnv)))
} else {return(NULL)}
}, simplify = FALSE)
})
header = function() {
obj_types = Environment_Objects()
sapply(names(obj_types), function(name) {
if (obj_types[name] == "dataframe") {
return(head(get(name, envir = .GlobalEnv)))
} else {return(NULL)}
}, simplify = FALSE)
}
header()
environment_info = list(
Environment_Objects = function(){
sapply(ls(envir = .GlobalEnv), function(name) {
obj = get(name, envir = .GlobalEnv)
if (is.function(obj)) {
"function"
} else if (is.data.frame(obj)) {
"dataframe"
} else {
"variable"
}
})
},
header = function() {
obj_types = Environment_Objects()
sapply(names(obj_types), function(name) {
if (obj_types[name] == "dataframe") {
return(head(get(name, envir = .GlobalEnv)))
} else {return(NULL)}
}, simplify = FALSE)
},
directory = getwd(),
packages = sessionInfo()$otherPkgs,
current_script = try(rstudioapi::getActiveDocumentContext()$contents),
errors = geterrmessage()
)
environment_info
library(devtools)
library(usethis)
use_r("Environment_Info")
data = mtcars
var1 = 5
Environment_Objects = function(){
sapply(ls(envir = .GlobalEnv), function(name) {
obj = get(name, envir = .GlobalEnv)
if (is.function(obj)) {
"function"
} else if (is.data.frame(obj)) {
"dataframe"
} else {
"variable"
}
})}
header = function() {
obj_types = Environment_Objects()
sapply(names(obj_types), function(name) {
if (obj_types[name] == "dataframe") {
return(head(get(name, envir = .GlobalEnv)))
} else {return(NULL)}
}, simplify = FALSE)
}
environment_info = list(
objects = Environment_Objects(),
data_header = header(),
directory = getwd(),
packages = sessionInfo()$otherPkgs,
current_script = try(rstudioapi::getActiveDocumentContext()$contents),
errors = geterrmessage()
)
environment_info
sessionInfo()
session = sessionInfo()
View(session)
environment_info = list(
objects = Environment_Objects(),
data_header = header(),
directory = getwd(),
packages = sessionInfo(),
current_script = try(rstudioapi::getActiveDocumentContext()$contents),
errors = geterrmessage()
)
environment_info
load_all()
table(data$hp data$fast)
explain()
explain()
load_all()
table(data$hp data$fast)
explain()
packages = list(sessionInfo())
View(packages)
load_all()
table(data$hp data$fast)
explain()
table(data$hp, data$fast)
explain()
View(data)
devtools::check()
library(devtools)
load_all()
data = mtcars
var1 = 5
table(data$hp, data$fast)
rsave(test1)
rsave("test1")
header = function() {
obj_types = Environment_Objects()
sapply(names(obj_types), function(name) {
if (obj_types[name] == "dataframe") {
return(head(get(name, envir = .GlobalEnv)), 2)
} else {return(NULL)}
}, simplify = FALSE)
}
load_all()
rsave("test1")
?head()
header = function() {
obj_types = Environment_Objects()
sapply(names(obj_types), function(name) {
if (obj_types[name] == "dataframe") {
return(head(get(name, envir = .GlobalEnv), n = 2))
} else {return(NULL)}
}, simplify = FALSE)
}
load_all()
rsave("test1")
Environment_Objects = function(){
paste0(
sapply(ls(envir = .GlobalEnv), function(name) {
obj = get(name, envir = .GlobalEnv)
if (is.function(obj)) {
"function"
} else if (is.data.frame(obj)) {
"dataframe"
} else {
"variable"
}
})
, ": ",
sapply(ls(envir = .GlobalEnv)))
}
load_all()
rsave("test1")
load_all()
rsave("test1")
load_all()
rsave("test1")
load_all()
rsave("test1")
load_all()
rsave("test1")
load_all()
rsave("test1")
load_all()
rsave("test1")
load_all()
rsave("test1")
load_all()
rsave("test1")
load_all()
library(devtools)
data = mtcars
var1 = 5
rexport("test1")
load_all()
rexport("test1")
